{
	"Methods": [
		{
			"type": "Manual Allocation",
			"rules": [
				{
					"rulename": "EvaluateForSkippedRecords",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForOverride",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Override]"
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForOther",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [						
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForGreaterExisting",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "greaterThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [	
						{
							"type": "Override",
							"value": "[EvaluateOutput]"
						},				
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						}
					]
				}
			]
		},
		{
			"type": "TargetPar",
			"rules": [
				{
					"rulename": "EvaluateForSkippedRecords",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [						
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForOverride",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Override]"
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForOther",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},							
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "AllocatedQtyOutput",
							"value": "[TotalQuantity] * [Existing] / [GrandTotal]"
						},
						{
							"type": "AdditionalAllocationQty",
							"value": "[Existing] / [TotalOverride] * [TotalRemaining]"
						}
					],
					"result": [						
						{
							"type": "FinalQty",
							"value": "[AllocatedQtyOutput] + [AdditionalAllocationQty]"
						}
					]
				}
			]
		},
		{
			"type": "Sell All",
			"rules": [
				{
					"rulename": "EvaluateForSkippedRecords",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "equal",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [						
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForOverride",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "equal",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Override]"
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForOther",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "equal",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},							
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [						
						{
							"type": "EvaluateOutput",
							"value": "[Existing]"
						}
					],
					"result": [						
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						}
					]
				}
			]
		}
	]
}