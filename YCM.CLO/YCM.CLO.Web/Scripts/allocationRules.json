{
	"Methods": [
		{
			"type": "Manual Allocation",
			"tradetype": "Sell",
			"rules": [
				{
					"rulename": "EvaluateForSkippedRecords",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "NetPosition",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForOverride",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Existing] - [Override]"
						},
						{
							"type": "EvaluateTradeAmount",
							"value": "[Override] * [Price] / 100"
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateTradeAmount]"
						},
						{
							"type": "NetPosition",
							"value": "[Override]"
						}
					]
				},
				{
					"rulename": "EvaluateForOther",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [						
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "NetPosition",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForGreaterExisting",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "greaterThanInclusive",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Existing] - [Override]"
						},
						{
							"type": "EvaluateTradeAmount",
							"value": "[Override] * [Price] / 100"
						}
					],
					"result": [											
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateTradeAmount]"
						},
						{
							"type": "NetPosition",
							"value": "[Override]"
						}
					]
				}
			]
		},
		{
			"type": "TargetPar",
			"tradetype": "Sell",
			"rules": [
				{
					"rulename": "EvaluateForSkippedRecords",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [						
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "NetPosition",
							"value": "[FinalQty]"
						}
					]
				},
				{
					"rulename": "EvaluateForOverride",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Exposure] - [Override]"
						},
						{
							"type": "EvaluateTradeAmount",
							"value": "[Override] * [Price] / 100"
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateTradeAmount]"
						},
						{
							"type": "NetPosition",
							"value": "[Override]"
						}
					]
				},
				{
					"rulename": "EvaluateForOther",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},							
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "AdditionalAllocationQty",
							"value": "[Existing] / [TotalOverride] * [TotalRemaining]"
						},
						{
							"type": "EvaluateNetTradeQty",
							"value": "[Allocated] + [AdditionalAllocationQty]"
						}
					],
					"result": [						
						{
							"type": "FinalQty",
							"value": "[Exposure] - [Allocated] + [AdditionalAllocationQty]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateNetTradeQty] * [Price] / 100"
						},
						{
							"type": "NetPosition",
							"value": "[EvaluateNetTradeQty]"
						}
					]
				},
				{
					"rulename": "EvaluateForGreaterExisting",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "Override",
								"operator": "greaterThanInclusive",
								"value": "[Exposure]"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Exposure] - [Override]"
						},
						{
							"type": "EvaluateTradeAmount",
							"value": "[Override] * [Price] / 100"
						}
					],
					"result": [											
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateTradeAmount]"
						},
						{
							"type": "NetPosition",
							"value": "[Override]"
						}
					]
				}
			]
		},
		{
			"type": "Position",
			"tradetype": "Sell",
			"rules": [
				{
					"rulename": "EvaluateForSkippedRecords",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [						
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "NetPosition",
							"value": "[FinalQty]"
						}
					]
				},
				{
					"rulename": "EvaluateForOverride",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Exposure] - [Override]"
						},
						{
							"type": "EvaluateTradeAmount",
							"value": "[Override] * [Price] / 100"
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateTradeAmount]"
						},
						{
							"type": "NetPosition",
							"value": "[Override]"
						}
					]
				},
				{
					"rulename": "EvaluateForOther",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},							
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "AdditionalAllocationQty",
							"value": "[Existing] / [TotalOverride] * [TotalRemaining]"
						},
						{
							"type": "EvaluateNetTradeQty",
							"value": "[Allocated] + [AdditionalAllocationQty]"
						}
					],
					"result": [						
						{
							"type": "FinalQty",
							"value": "[Exposure] - [Allocated] + [AdditionalAllocationQty]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateNetTradeQty] * [Price] / 100"
						},
						{
							"type": "NetPosition",
							"value": "[EvaluateNetTradeQty]"
						}
					]
				},
				{
					"rulename": "EvaluateForGreaterExisting",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "Override",
								"operator": "greaterThanInclusive",
								"value": "[Exposure]"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Exposure] - [Override]"
						},
						{
							"type": "EvaluateTradeAmount",
							"value": "[Override] * [Price] / 100"
						}
					],
					"result": [											
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateTradeAmount]"
						},
						{
							"type": "NetPosition",
							"value": "[Override]"
						}
					]
				}
			]
		},
		{
			"type": "Sell All",
			"tradetype": "Sell",
			"rules": [
				{
					"rulename": "EvaluateForSkippedRecords",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [						
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "NetPosition",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForOverride",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Exposure] - [Override]"
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[Override] * [Price] / 100"
						},
						{
							"type": "NetPosition",
							"value": "[Override]"
						}						
					]
				},
				{
					"rulename": "EvaluateForOther",
					"conditions": {
						"all": [							
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "Override",
								"operator": "lessThan",
								"value": "[Existing]"
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},							
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [						
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [						
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[Exposure] * [Price] / 100"
						},
						{
							"type": "NetPosition",
							"value": "[Exposure]"
						}
					]
				}
			]
		},
		{
			"type": "Manual Allocation",
			"tradetype": "Buy",
			"rules": [
				{
					"rulename": "EvaluateForSkippedRecords",
					"conditions": {
						"all": [
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "NetPosition",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForOverride",
					"conditions": {
						"all": [
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Override] + [Existing]"
						},
						{
							"type": "EvaluateTradeAmount",
							"value": "[Override] * [Price] / 100"
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateTradeAmount]"
						},
						{
							"type": "NetPosition",
							"value": "[Override]"
						}
					]
				},
				{
					"rulename": "EvaluateForOther",
					"conditions": {
						"all": [
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Existing]"
						},
						{
							"type": "EvaluateTradeAmount",
							"value": "[Override] * [Price] / 100"
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateTradeAmount]"
						},
						{
							"type": "NetPosition",
							"value": "[Override]"
						}
					]
				}
			]
		},
		{
			"type": "TargetPar",
			"tradetype": "Buy",
			"rules": [
				{
					"rulename": "EvaluateForSkippedRecords",
					"conditions": {
						"all": [
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "NetPosition",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForOverride",
					"conditions": {
						"all": [
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Override] + [Exposure]"
						}
					],
					"result": [
						{
							"type": "Allocated",
							"value": 0
						},
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[Override] * [Price] / 100"
						},
						{
							"type": "NetPosition",
							"value": "[Override]"
						}
					]
				},
				{
					"rulename": "EvaluateForOther",
					"conditions": {
						"all": [
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [						
						{
							"type": "AdditionalAllocationQty",
							"value": "[Existing] / [TotalOverride] * [TotalRemaining]"
						}
						,
						{
							"type": "EvaluateNetTradeQty",
							"value": "[Allocated] + [AdditionalAllocationQty]"
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[Allocated] + [AdditionalAllocationQty] + [Exposure]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateNetTradeQty] * [Price] / 100"
						},
						{
							"type": "NetPosition",
							"value": "[FinalQty] - [Exposure]"
						}
					]
				}
			]
		},
		{
			"type": "Position",
			"tradetype": "Buy",
			"rules": [
				{
					"rulename": "EvaluateForSkippedRecords",
					"conditions": {
						"all": [
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": 0
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "NetPosition",
							"value": "[EvaluateOutput]"
						}
					]
				},
				{
					"rulename": "EvaluateForOverride",
					"conditions": {
						"all": [
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "True"
							}
						]
					},
					"evaluate": [
						{
							"type": "EvaluateOutput",
							"value": "[Override] + [Exposure]"
						}
					],
					"result": [
						{
							"type": "Allocated",
							"value": 0
						},
						{
							"type": "FinalQty",
							"value": "[EvaluateOutput]"
						},
						{
							"type": "TradeAmount",
							"value": "[Override] * [Price] / 100"
						},
						{
							"type": "NetPosition",
							"value": "[Override]"
						}
					]
				},
				{
					"rulename": "EvaluateForOther",
					"conditions": {
						"all": [
							{
								"fact": "TotalQuantity",
								"operator": "greaterThan",
								"value": 0
							},
							{
								"fact": "IsIncluded",
								"operator": "equal",
								"value": "True"
							},
							{
								"fact": "IsOverride",
								"operator": "equal",
								"value": "False"
							}
						]
					},
					"evaluate": [						
						{
							"type": "AdditionalAllocationQty",
							"value": "[Existing] / [TotalOverride] * [TotalRemaining]"
						}
						,
						{
							"type": "EvaluateNetTradeQty",
							"value": "[Allocated] + [AdditionalAllocationQty]"
						}
					],
					"result": [
						{
							"type": "FinalQty",
							"value": "[Allocated] + [AdditionalAllocationQty] + [Exposure]"
						},
						{
							"type": "TradeAmount",
							"value": "[EvaluateNetTradeQty] * [Price] / 100"
						},
						{
							"type": "NetPosition",
							"value": "[FinalQty] - [Exposure]"
						}
					]
				}
			]
		}
	]
}